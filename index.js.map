{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// function that gets data from server\nexport const getPhotoFromServer = function (dataName) {\n  const searchParametters = new URLSearchParams({\n    key: '49322620-5f00be843ea1be6db390f9d83',\n    q: dataName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${searchParametters}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n};\n","import SimpleLightbox from 'simplelightbox';\n\n// functions that renders the markup\n\nexport const createGalleryMarkup = function ({\n  webformatURL: smallIMG,\n  largeImageURL: largeIMG,\n  tags: alt,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeIMG}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${smallIMG}\"\n        alt=\"${alt}\"\n      />\n    </a>\n   \n    <ul class = \"description-list\">\n        <li class=\"description\"><span>Likes</span> ${likes}</li>\n        <li class=\"description\"><span>Views</span> ${views}</li>\n        <li class=\"description\"><span>Comments</span> ${comments}</li>\n        <li class=\"description\"><span>Downloads</span> ${downloads}</li>\n        </ul>\n      \n  </li>`;\n};\n\nexport const createLightBox = function () {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n  });\n  lightbox.refresh();\n};\n","import iziToast from 'izitoast';\nimport { getPhotoFromServer } from './js/pixabay-api';\nimport { createGalleryMarkup, createLightBox } from './js/render-functions';\n//selecting the elements\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n// Function to show the loader\nconst showLoader = () => {\n  refs.loader.style.display = 'inline-block';\n  refs.gallery.style.display = 'none';\n};\n\n// Function to hide the loader\nconst hideLoader = () => {\n  refs.loader.style.display = 'none';\n  refs.gallery.style.display = 'flex';\n};\n\n//getting data from server and creating a gallery\nconst searchInputHandeling = function (event) {\n  event.preventDefault();\n  const dataName = event.currentTarget.elements['search-text'].value.trim();\n\n  if (dataName === '') {\n    alert('Please enter a valid data');\n    return;\n  }\n  showLoader();\n\n  getPhotoFromServer(dataName)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          messageColor: '#fff',\n          backgroundColor: '#ef4040',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 10000,\n        });\n\n        refs.form.reset();\n        refs.gallery.innerHTML = '';\n        return;\n      }\n      const galleryTemplate = hits\n        .map(img => createGalleryMarkup(img))\n        .join('');\n      refs.gallery.innerHTML = galleryTemplate;\n      createLightBox();\n      refs.form.reset();\n    })\n    .catch(error => {\n      iziToast.error({\n        messageColor: '#fff',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        message: 'Oops! Something went wrong. Please try again later.',\n        timeout: 10000,\n      });\n    })\n    .finally(hideLoader);\n};\nrefs.form.addEventListener('submit', searchInputHandeling);\n"],"names":["getPhotoFromServer","dataName","searchParametters","response","createGalleryMarkup","smallIMG","largeIMG","alt","likes","views","comments","downloads","createLightBox","SimpleLightbox","refs","showLoader","hideLoader","searchInputHandeling","event","hits","iziToast","galleryTemplate","img","error"],"mappings":"6vBACO,MAAMA,EAAqB,SAAUC,EAAU,CACpD,MAAMC,EAAoB,IAAI,gBAAgB,CAC5C,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAiB,EAAE,EAAE,KAC5DC,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,KAAM,CAC5B,CACG,CACH,ECbaC,EAAsB,SAAU,CAC3C,aAAcC,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,oCAE2BL,CAAQ;AAAA;AAAA;AAAA,eAG7BD,CAAQ;AAAA,eACRE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,qDAKmCC,CAAK;AAAA,qDACLC,CAAK;AAAA,wDACFC,CAAQ;AAAA,yDACPC,CAAS;AAAA;AAAA;AAAA,QAIlE,EAEaC,EAAiB,UAAY,CACvB,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,IACd,aAAc,KAClB,CAAG,EACQ,QAAS,CACpB,ECpCMC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAa,IAAM,CACvBD,EAAK,OAAO,MAAM,QAAU,eAC5BA,EAAK,QAAQ,MAAM,QAAU,MAC/B,EAGME,EAAa,IAAM,CACvBF,EAAK,OAAO,MAAM,QAAU,OAC5BA,EAAK,QAAQ,MAAM,QAAU,MAC/B,EAGMG,EAAuB,SAAUC,EAAO,CAC5CA,EAAM,eAAgB,EACtB,MAAMjB,EAAWiB,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,KAAM,EAEzE,GAAIjB,IAAa,GAAI,CACnB,MAAM,2BAA2B,EACjC,MACJ,CACEc,EAAY,EAEZf,EAAmBC,CAAQ,EACxB,KAAK,CAAC,CAAE,KAAAkB,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBC,EAAS,MAAM,CACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QACE,2EACF,QAAS,GACnB,CAAS,EAEDN,EAAK,KAAK,MAAO,EACjBA,EAAK,QAAQ,UAAY,GACzB,MACR,CACM,MAAMO,EAAkBF,EACrB,IAAIG,GAAOlB,EAAoBkB,CAAG,CAAC,EACnC,KAAK,EAAE,EACVR,EAAK,QAAQ,UAAYO,EACzBT,EAAgB,EAChBE,EAAK,KAAK,MAAO,CAClB,CAAA,EACA,MAAMS,GAAS,CACdH,EAAS,MAAM,CACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAAS,sDACT,QAAS,GACjB,CAAO,CACF,CAAA,EACA,QAAQJ,CAAU,CACvB,EACAF,EAAK,KAAK,iBAAiB,SAAUG,CAAoB"}